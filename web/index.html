<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Games List Manager</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <div class="app-header__title-block">
          <h1 class="app-header__title">Games List Manager</h1>
          <span class="app-header__version">v0.0.0</span>
        </div>
        <!-- –ë–ª–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Ç–µ–º—ã-->
        <div class="app-header__settings">
          <select id="language-select" class="select select--small">
            <option value="ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option>
            <option value="en">üá¨üáß English</option>
          </select>
          <button
            id="theme-toggle"
            class="btn btn--icon"
            aria-label="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"
            data-tooltip="–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–µ–º—É"
            data-tooltip-left
          >
            üåô
          </button>
        </div>
        <p class="app-header__description">
          –£–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∏–≥—Ä
        </p>
      </header>

      <div class="topbar">
        <div class="topbar__left">
          <button
            id="add-game-btn"
            class="btn btn--primary btn--icon-left"
            data-icon="+"
          >
            –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É
          </button>

          <div class="stats">
            <button class="stats__item stats__item--active" data-filter="all">
              <span class="stats__count" id="total-games">0</span>
              <span class="stats__label">–í—Å–µ–≥–æ</span>
            </button>
            <button class="stats__item" data-filter="playing">
              <span class="stats__count" id="playing-games">0</span>
              <span class="stats__label">–ò–≥—Ä–∞—é</span>
            </button>
            <button class="stats__item" data-filter="planned">
              <span class="stats__count" id="planned-games">0</span>
              <span class="stats__label">–í –ø–ª–∞–Ω–∞—Ö</span>
            </button>
            <button class="stats__item" data-filter="completed">
              <span class="stats__count" id="completed-games">0</span>
              <span class="stats__label">–ü—Ä–æ–π–¥–µ–Ω–æ</span>
            </button>
            <button class="stats__item" data-filter="dropped">
              <span class="stats__count" id="dropped-games">0</span>
              <span class="stats__label">–î—Ä–æ–ø–Ω—É–ª</span>
            </button>
          </div>
        </div>

        <div class="topbar__right">
          <select id="sort-select" class="select">
            <option value="rating-desc">–ü–æ –æ—Ü–µ–Ω–∫–µ</option>
            <option value="title-asc">–ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é</option>
            <option value="added-desc">–ü–æ –¥–∞—Ç–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è</option>
            <option value="added-asc">–ü–æ –¥–∞—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</option>
          </select>
          <input
            id="search"
            type="search"
            class="search"
            placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..."
          />
        </div>
      </div>

      <main class="content">
        <div id="games-list" class="games-list"></div>
      </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ñ–æ—Ä–º—ã -->
    <div id="game-modal" class="modal" aria-hidden="true">
      <div class="modal__panel modal__panel--form">
        <!-- Overlay –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ñ–æ—Ä–º—ã -->
        <div id="form-overlay" class="modal__overlay" style="display: none">
          <div class="modal__overlay-content">
            <div class="spinner"></div>
            <p>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...</p>
          </div>
        </div>

        <button class="modal__close" id="modal-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
          ‚úï
        </button>
        <h2 class="modal__title" id="modal-title">–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É</h2>

        <form id="game-form" class="form" autocomplete="off">
          <input type="hidden" id="game-id" />

          <div class="form__content">
            <div class="form__fields">
              <div class="form__row">
                <label for="title" class="form__label">
                  –ù–∞–∑–≤–∞–Ω–∏–µ <span class="form__required">*</span>
                </label>
                <input
                  id="title"
                  type="text"
                  class="form__input"
                  required
                  placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã"
                />
                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –¥—É–±–ª—è—Ö -->
                <div id="duplicate-popup" class="duplicate-popup"></div>
              </div>

              <div class="form__grid form__grid--3cols">
                <div class="form__field">
                  <label for="version" class="form__label--small">–í–µ—Ä—Å–∏—è</label>
                  <input
                    id="version"
                    type="text"
                    class="form__input"
                    placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, GOTY –∏–ª–∏ 1.2.3"
                  />
                </div>

                <div class="form__field">
                  <label for="rating" class="form__label--small">–û—Ü–µ–Ω–∫–∞</label>
                  <input
                    id="rating"
                    type="number"
                    class="form__input"
                    min="0"
                    max="10"
                    step="0.1"
                    value="0"
                  />
                </div>

                <div class="form__field">
                  <label for="status" class="form__label--small">–°—Ç–∞—Ç—É—Å</label>
                  <select id="status" class="form__select">
                    <option value="playing">–ò–≥—Ä–∞—é</option>
                    <option value="planned">–í –ø–ª–∞–Ω–∞—Ö</option>
                    <option value="completed">–ü—Ä–æ—à—ë–ª</option>
                    <option value="dropped">–î—Ä–æ–ø–Ω—É–ª</option>
                  </select>
                </div>
              </div>

              <div class="form__row">
                <label for="game-link" class="form__label"
                  >–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–≥—Ä—É</label
                >
                <input
                  id="game-link"
                  type="text"
                  class="form__input"
                  placeholder="https://..."
                />
              </div>

              <div class="form__row form__row--grow">
                <label for="review" class="form__label">–û—Ç–∑—ã–≤</label>
                <textarea
                  id="review"
                  class="form__textarea"
                  rows="5"
                  placeholder="–ö–æ—Ä–æ—Ç–∫–æ –æ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏—è—Ö"
                ></textarea>
              </div>
            </div>

            <div class="form__upload">
              <div class="upload-area" id="upload-area">
                <div
                  id="screenshot-preview"
                  class="upload-area__preview upload-area__preview--empty"
                ></div>
                <input
                  id="screenshot"
                  type="file"
                  accept="image/*"
                  class="upload-area__input"
                />
              </div>
              <button
                id="remove-screenshot"
                type="button"
                class="btn btn--secondary btn--small hidden"
              >
                –£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
              </button>
              <div class="form__actions">
                <button id="cancel-btn" type="button" class="btn">
                  –û—Ç–º–µ–Ω–∞
                </button>
                <button id="save-btn" type="submit" class="btn btn--primary">
                  –î–æ–±–∞–≤–∏—Ç—å
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
    <div id="view-modal" class="modal" aria-hidden="true">
      <div class="modal__panel modal__panel--view">
        <button class="modal__close" id="view-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
          ‚úï
        </button>

        <div class="view">
          <div class="view__left">
            <div class="view__rating" id="view-rating">‚òÖ 0.0</div>
            <div class="view__image-wrap">
              <div class="view__image" id="view-image"></div>
            </div>
          </div>

          <div class="view__right">
            <div class="view__header">
              <h3 class="view__title" id="view-title"></h3>
              <button
                class="view__copy"
                id="view-copy-title"
                aria-label="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ"
              >
                ‚ßâ
              </button>
            </div>

            <div class="view__meta">
              <div class="view__version" id="view-version">–í–µ—Ä—Å–∏—è: ‚Äî</div>
              <div class="status-badge" id="view-status"></div>
            </div>

            <div class="view__review">
              <div class="view__review-content" id="view-review"></div>
            </div>

            <div class="view__footer">
              <div class="view__dates">
                <span id="view-created-at" class="view__date">–°–æ–∑–¥–∞–Ω–æ: ‚Äî</span>
                <span id="view-updated-at" class="view__date"
                  >–û–±–Ω–æ–≤–ª–µ–Ω–æ: ‚Äî</span
                >
              </div>
              <div class="view__actions">
                <button id="view-edit" class="btn">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                <button id="view-delete" class="btn btn--danger">
                  –£–¥–∞–ª–∏—Ç—å
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è -->
    <div id="confirm-modal" class="modal" aria-hidden="true">
      <div class="modal__panel modal__panel--small">
        <h3 class="modal__title">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ</h3>
        <p class="modal__text">–£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –∏–≥—Ä—ã?</p>
        <div class="modal__actions">
          <button id="confirm-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="confirm-delete" class="btn btn--danger">–£–¥–∞–ª–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <script src="/eel.js"></script>
    <script type="module" src="app.js"></script>
  </body>
</html>
